#!/usr/bin/env bash
set -euo pipefail

# File that always holds the current wallpaper path
WALL="$HOME/.config/hypr/wallpaper"
[ -f "$WALL" ] || exit 1

# Read the actual image path
WALL_PATH=$(<"$WALL")
[ -f "$WALL_PATH" ] || exit 1

wal -i "$WALL_PATH" -n --backend haishoku # using haishoku to be "simpler" for some images i have

pkill -USR1 waybar

hyprctl reload

